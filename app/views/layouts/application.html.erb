<!DOCTYPE html>
<html lang="en">
	<head>
		<%= favicon_link_tag asset_path('favicon.png'), :rel => 'icon', :type =>  'image/png' %>
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<%= csrf_meta_tags %>
		<%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
		<link href="https://fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
		<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.9"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

        <title>Justin Cefai</title>
        <meta name="description" content="Justin Cefai is a software engineer specializing in full-stack development.  He has experience with Ruby, Rails, JavaScript, and building web applications.">
				
	</head>

	<body>
		<%= yield %>

		<script type="text/javascript">
				(() => {
		  'use strict';
		  // Page is loaded
		  const objects = document.getElementsByClassName('asyncImage');
		  Array.from(objects).map((item) => {
		    // Start loading image
		    const img = new Image();
		    img.src = item.dataset.src;
		    // Once image is loaded replace the src of the HTML element
		    img.onload = () => {
		      item.classList.remove('asyncImage');
		      return item.nodeName === 'IMG' ? 
		        item.src = item.dataset.src :        
		        item.style.backgroundImage = `url(${item.dataset.src})`;
		    };
		  });
		})();

		var $root = $('html, body');

		$('a[href^="#"]').click(function () {
			$root.animate({
					scrollTop: $( $.attr(this, 'href') ).offset().top
			}, 400);

    		return false;
			});
			</script>
	</body>
</html>